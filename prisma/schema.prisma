generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["postgresqlExtensions"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id            String   @id @default(cuid())
  email         String   @unique
  password      String
  salt          String
  role          String
  assignedTask  String
}

model Car {
  id          String    @id @default(cuid())
  title       String
  description String
  image       String
  brand       String //country
  parkinglot  String //state
  rental      Int
  country     String
  state       String
  city        String
  bookings    Booking[]
  sensors     Sensor[] //rooms
}

model Sensor {
  id          String  @id @default(cuid())
  title       String
  description String
  threshold   String
  image       String
  Car         Car?    @relation(fields: [carId], references: [id])
  carId       String?
}

model Booking {
  id              String   @id @default(cuid())
  Name            String
  startDate       DateTime
  endDate         DateTime
  currrency       String
  Price           Int
  pay             Boolean  @default(false)
  paymentIntentId String   @unique
  booked          DateTime @default(now())
  Car             Car?     @relation(fields: [carId], references: [id])
  carId           String?
}
